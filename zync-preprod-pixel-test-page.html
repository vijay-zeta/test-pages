<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zync Pixel Test</title>
</head>
<body>
  <h1>Zync Preprod Pixel Test Page</h1>

  <script async type="text/javascript">
    function zync_call() {
      var z = document.createElement("script");
      var gpp = "${GPP_STRING_469}";
      var gpp_sid = "${GPP_SID}";
      var gdpr = "${GDPR}";
      var gdpr_consent = "${GDPR_CONSENT_469}";
      var zmpID = "vijay-p13n-testing";
      var cache_buster = Date.now();
      
      var PageUrl = encodeURIComponent(window.top.location.href)
        .replace(/[!'()~]/g, escape)
        .replace(/\*/g, "%2A"); 
      // The macro above ensures URL encoding works across most browsers

      var z_src = "https://zync-kafka-external.dev.zetaglobal.io/sync" +
        "?c=16b6410431b6374e780104abb0443ca8" +
        "&p=88dc4ef77d18f044ee16314ce854091a" +
        "&k=vijay-p13n-testing-pixel-0663" +
        "&gpp=" + gpp +
        "&gpp_sid=" + gpp_sid +
        "&gdpr=" + gdpr +
        "&gdpr_consent=" + gdpr_consent +
        "&zmpID=" + zmpID +
        "&cache_buster=" + cache_buster +
        "&PageUrl=" + PageUrl;

      z.setAttribute("src", z_src);
      document.body.appendChild(z);
    }

    if (['complete', 'interactive'].indexOf(document.readyState) >= 0) {
      zync_call();
    } else {
      window.addEventListener("DOMContentLoaded", function() {
        zync_call();
      });
    }
  </script>
</body>
</html>
